<template>
  <template if:true={showModal}>
    <section
      role="dialog"
      tabindex="-1"
      aria-modal="true"
      aria-labelledby="modal-heading-01"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <div
          class="slds-modal__content slds-var-p-around_medium"
          id="modal-content-id-1"
        >
          <div class="slds-var-p-horizontal_xx-large">
            <div class="slds-form slds-var-p-horizontal_xx-large">
              <c-file-uploader record-id={userId}></c-file-uploader>
              <div class="slds-form-element slds-form-element_horizontal">
                <label
                  class="slds-form-element__label slds-var-p-top_x-small"
                  for="movie-name"
                  >Name<abbr title="required" class="slds-required"
                    >*</abbr
                  ></label
                >
                <div class="slds-form-element__control">
                  <lightning-input
                    type="text"
                    id="movie-name"
                    aria-required="true"
                    value={movie.Name}
                    onchange={handleNameChange}
                    variant="label-hidden"
                    maxlength="80"
                  >
                  </lightning-input>
                  <p class="slds-required" if:true={showNameRequiredMessage}>
                    The name of the movie is required
                  </p>
                </div>
              </div>
              <div class="slds-form-element slds-form-element_horizontal">
                <label
                  class="slds-form-element__label slds-var-p-top_x-small"
                  for="movie-type"
                  >Type</label
                >
                <div class="slds-form-element__control">
                  <lightning-combobox
                    variant="label-hidden"
                    id="movie-type"
                    value={movie.Category__c}
                    onchange={handleTypeChange}
                    options={picklistValues.data.values}
                  >
                  </lightning-combobox>
                </div>
              </div>
              <div class="slds-form-element slds-form-element_horizontal">
                <label
                  class="slds-form-element__label slds-var-p-top_x-small"
                  for="movie-description"
                  >Description</label
                >
                <div class="slds-form-element__control">
                  <lightning-textarea
                    id="movie-description"
                    value={movie.Description__c}
                    onchange={handleDescriptionChange}
                    placeholder="Type here"
                    max-length="254"
                  >
                  </lightning-textarea>
                </div>
              </div>
              <c-actors></c-actors>
              <div class="slds-form-element slds-form-element_horizontal">
                <label
                  class="slds-form-element__label slds-var-p-top_x-small"
                  for="movie-rating"
                  >Rating</label
                >
                <div class="slds-form-element__control">
                  <c-star-rating
                    id="movie-rating"
                    onratingchange={handleRatingChanged}
                  >
                  </c-star-rating>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="slds-modal__footer">
          <lightning-button
            variant="destructive"
            label="Cancel"
            title="Destructive action"
            onclick={handleCancel}
            class="slds-var-m-left_x-small"
          ></lightning-button>
          <lightning-button
            variant="success"
            label="Save"
            title="Successful action"
            onclick={handleSave}
            class="slds-var-m-left_x-small"
          ></lightning-button>
        </div>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
  </template>
</template>
